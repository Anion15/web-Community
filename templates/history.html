<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='icon' type="images/png" href="https://raw.githubusercontent.com/Anion15/anion15.github.io/refs/heads/main/Preview.png">
  <title>상정인사이드 역사</title>
  <meta name="description" content="상정인사이드 커뮤니티는 '정상의 반대'라는 개념을 바탕으로 자유롭고 창의적인 토론을 나누는 공간입니다.">
  <meta name="keywords" content="커뮤니티, 상정인사이드, 자유로운">
  <meta name="author" content="anion15">
  <meta property="og:title" content="상정인사이드">
  <meta property="og:description" content="정상의 반대말 상정. 자유로운 커뮤니티">
  <meta property="og:image" content="https://raw.githubusercontent.com/Anion15/anion15.github.io/refs/heads/main/full-logo.png">
  <meta property="og:url" content="https://anion15.github.io">
  <meta name="twitter:title" content="상정인사이드">
  <meta name="twitter:description" content="정상의 반대말 상정. 자유로운 커뮤니티">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/Anion15/anion15.github.io/refs/heads/main/full-logo.png">
  <meta name="twitter:card" content="summary_large_image">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Noto Sans KR', sans-serif; overflow-x: hidden; -ms-overflow-style: none; }
    ::-webkit-scrollbar { display: none;}
  </style>
</head>

<body class="bg-gray-100 min-h-screen">
  <header class="bg-white shadow py-4 px-6 mb-6 flex items-center justify-between">
    <!-- 왼쪽: 로고 -->
    <div class="flex items-center space-x-4">
      <a href="https://anion15.github.io">
        <img src="https://raw.githubusercontent.com/Anion15/anion15.github.io/refs/heads/main/logo-.png" alt="logo" class="w-28 sm:w-32 md:w-36 lg:w-40 xl:w-44" />
      </a>
    </div>
  
    <!-- 오른쪽: 버튼 그룹 -->
    <div class="flex space-x-2">
      <a href="/info"
         class="bg-gray-600 text-white font-semibold
                text-sm sm:text-base md:text-sm sm:text-xl
                py-1 px-2 sm:py-2 sm:px-4 md:py-3 md:px-6 rounded">
        상정인사이드란?
      </a>
      <a href="/history"
         class="bg-blue-600 text-white font-semibold
                text-sm sm:text-base md:text-sm sm:text-xl
                py-1 px-2 sm:py-2 sm:px-4 md:py-3 md:px-6 rounded">
        상정인사이드 역사
      </a>
    </div>
  </header>

  <main class="max-w-2xl mx-auto px-4">
    
  <!-- 운영 시간 -->
  <section class="bg-gradient-to-r from-sky-700 to-indigo-800 p-8 rounded-2xl shadow-2xl text-center border border-indigo-400 text-white">
    <h2 class="text-xl font-semibold mb-2">운영 시간</h2>
    <p id="uptime" class="text-4xl font-extrabold tracking-wider">계산 중...</p>
    <p class="mt-2">2025년 4월 25일 오후 8시부터 운영 중입니다.</p>
  </section>
  <h1>&nbsp;</h1>

  <!-- 게시물 및 댓글 수 -->
  <section class="bg-gradient-to-r from-purple-700 to-fuchsia-700 p-8 rounded-2xl shadow-2xl text-center border border-fuchsia-400 text-white">
    <h2 class="text-xl font-semibold mb-2">등록된 콘텐츠</h2>
    <p id="stats-text" class="text-3xl font-bold tracking-wider">불러오는 중...</p>
    <p class="mt-2">상정인사이드에 등록된 게시물과 댓글 수</p>
  </section>
  <h1>&nbsp;</h1>

  <!-- 총 데이터 전송량 -->
  <section class="bg-gradient-to-r from-rose-600 to-pink-700 p-8 rounded-2xl shadow-2xl text-center border border-rose-300 text-white">
    <h2 class="text-xl font-semibold mb-2">총 데이터 전송량</h2>
    <p id="data-transfer-size" class="text-4xl font-extrabold tracking-widest">로딩 중...</p>
    <p class="mt-2">상정인사이드가 여러분과 주고받은 데이터 총합</p>
  </section>

  </main>
  <h1>&nbsp;</h1>
  <h1>&nbsp;</h1>
  <h1>&nbsp;</h1>

  <!--새로운 footer-->
  <footer class="bg-white text-gray-800 py-10 px-5 font-sans border-t border-gray-200">
    <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      <!-- 소개 -->
      <div>
        <h2 class="text-2xl font-bold mb-2">상정인사이드</h2>
        <p class="text-gray-600">당신의 일상과 생각을 나누는 공간,<br>상정인사이드 커뮤니티입니다.</p>
      </div>

      <!-- 바로가기 -->
      <div>
        <h3 class="text-xl font-semibold mb-2">바로가기</h3>
        <ul class="space-y-1">
          <li><a href="/info" class="text-gray-600 hover:text-blue-600 transition">소개 및 이용규칙</a></li>
          <li><a href="/history" class="text-gray-600 hover:text-blue-600 transition">통계 및 정보</a></li>
          <li><a href="/release-notes" class="text-gray-600 hover:text-blue-600 transition">릴리즈 노트</a></li>
          <li><a href="https://github.com/anion15" class="text-gray-600 hover:text-blue-600 transition">개발자의 깃허브</a></li>
          <li><a href="http://anion15.github.io/hangang.html" class="text-gray-600 hover:text-blue-600 transition">개발자의 다른 사이트</a></li>
        </ul>
      </div>

      <!-- SNS -->
      <div>
        <h3 class="text-xl font-semibold mb-2">Follow Us</h3>
        <div class="flex space-x-4">
          <a href="https://x.com/Sjinside_" class="text-gray-600 hover:text-blue-600 transition">X(트위터)</a>
          <a href="https://www.youtube.com/@SjInside-j8q" class="text-gray-600 hover:text-blue-600 transition">유튜브</a>
        </div>
      </div>
    </div>

    <hr class="my-8 border-gray-200">

    <p class="text-center text-gray-500 text-sm">&copy; 2025 상정인사이드. All rights reserved.</p>
  </footer>

  <script>
    const startTime = new Date("2025-04-25T20:00:00+09:00");

    function updateUptime() {
      const now = new Date();
      const uptimeSeconds = Math.floor((now - startTime) / 1000);
      document.getElementById("uptime").textContent = uptimeSeconds.toLocaleString() + "초";
    }

    async function getStats() {
      try {
        const [postRes, commentRes] = await Promise.all([
          fetch('/post_count'),
          fetch('/comment_count')
        ]);

        const postData = await postRes.json();
        const commentData = await commentRes.json();

        if (postData.success && commentData.success) {
          const statsText = `총 ${postData.count.toLocaleString()}개의 게시물과 ${commentData.count.toLocaleString()}개의 댓글이 등록되었습니다.`;
          document.getElementById('stats-text').textContent = statsText;
        } else {
          document.getElementById('stats-text').textContent = "데이터 불러오기 실패";
        }
      } catch (error) {
        console.error('통계 불러오기 실패', error);
        document.getElementById('stats-text').textContent = "불러오기 실패";
      }
    }

    async function getDataSize() {
      try {
        const res = await fetch('/getdatasize');
        const data = await res.json();

        if ('total_bytes_transferred' in data) {
          const size = formatBytes(data.total_bytes_transferred);
          document.getElementById('data-transfer-size').textContent = size;
        } else {
          throw new Error("잘못된 응답");
        }
      } catch (error) {
        console.error('데이터 크기 불러오기 실패', error);
        document.getElementById('data-transfer-size').textContent = "불러오기 실패";
      }
    }

    function formatBytes(bytes) {
      const units = ['B', 'KB', 'MB', 'GB', 'TB'];
      let i = 0;
      while (bytes >= 1024 && i < units.length - 1) {
        bytes /= 1024;
        i++;
      }
      return `${bytes.toFixed(2)} ${units[i]}`;
    }

    // 최초 실행
    updateUptime();
    getStats();
    getDataSize();

    // 1초마다 갱신
    setInterval(updateUptime, 1000);
  </script>
</body>
</html>
